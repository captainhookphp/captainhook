<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>CaptainHook Documentation</title>

    <link rel="icon" type="image/png" href="gfx/favicon.png">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/layout.css" rel="stylesheet">

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <header>
      <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://github.com/captainhookphp/captainhook">CaptainHook</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
              <li><a href="index.html">Home</a></li>
              <li><a href="install.html">Install</a></li>
              <li><a href="configure.html">Configure</a></li>
              <li><a href="hooks.html">Hooks</a></li>
              <li><a href="extend.html">Extend</a></li>
              <li><a href="https://shop.spreadshirt.de/captainhookphp/">Merch</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <div class="container theme-showcase" role="main">
      <h1>Migration guide</h1>
      <h2>Version 4.x to 5.x</h2>
      <h3>PHP Version Support</h3>
      <p>
        The support for PHP 7.1 was dropped in <em>CaptainHook</em> version 5. The minimum required PHP version is
        now 7.2.
      </p>
      <h3>Placeholders</h3>
      <p>
        If you were using placeholders in your CLI actions to access the original hook arguments the syntax changed
        from <em>{NAME}</em> to <em>{$NAME}</em> please update your placeholders accordingly.
      </p>
      <h3>Custom vendor directory</h3>
      <p>
        If you are using a custom <em>vendor</em> path in your composer setup the config setting or argument changed
        from <em>vendor-directory</em> to <em>bootstrap</em>. This is because version 5 is installable as PHAR file,
        and it is possible to run CaptainHook completely without using composer for your project. So, the "vendor" naming
        could be confusing. Furthermore the setting is now the complete path to the autoloader and not just the directory
        name anymore. The default bootstrap setting for example is "vendor/autoload.php". It is configured relative to
        the configuration file.
      </p>
      <h3>Run modes</h3>
      <p>
        If you are working on Linux/Unix based systems exclusively you can use the new <em>run-mode</em> <em>shell</em>.
        This will create your hooks as shell scripts instead of PHP scripts. The old default mode "local" got renamed
        to "php". Your options are now "php" (default), "shell" and "docker".
      </p>
      <h3>Composer plugin</h3>
      <p>
        If you have been using the <em>plugin-composer</em> package to automatically install the hooks for everybody you
        now have to require the <em>captainhook/captainhook</em> package manually. This is because you can use the plugin
        with the PHAR release as well and if you do so you don't need the CaptainHook composer package.
      </p>

    </div>

    <footer class="footer">
      <div class="container">
        <p>
          Found a typo or a bug?
          Please open an <a href="https://github.com/captainhookphp/captainhook/issues">issue</a>
          or pull request for the <em>gh-pages</em>
          branch of <a href="https://github.com/captainhookphp/captainhook/tree/gh-pages">CaptainHook</a>
        </p>
        <p>
          &copy; <a href="https://github.com/sebastianfeldmann">Sebastian Feldmann</a>
        </p>
      </div>
    </footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>
